<html><head><link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="my-icons.html">


</head><body><dom-module id="star-picker">
  <template>
    <style>iron-icon{--iron-icon-width:16px;--iron-icon-height:16px;}.rating{direction:rtl;text-align:center;}.rating > iron-icon:hover,
     .rating > iron-icon:hover ~ iron-icon{cursor:pointer;}div:focus{outline:1px dotted black;}</style>

    <div id="starContainer" class="rating set" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax$="{{stars}}" aria-valuetext$="{{rating}}" aria-valuenow$="{{rating}}">

      <template is="dom-repeat" items="[[_starColl]]" as="star">
        <iron-icon icon="[[star.icon]]" on-mouseover="_fillStar" on-tap="_fillStar"></iron-icon>
      </template>

    </div>

  </template>

  <script>Polymer({is:"star-picker",behaviors:[Polymer.IronA11yKeysBehavior],properties:{rating:{type:Number,notify:!0},stars:{type:Number,value:5},_starColl:{type:Array,notify:!0,value:function(){for(var t,r=[];t<this.stars;t++)r.push({icon:"star-border"});return r}}},observers:["calculateStars(rating)"],_fillStar:function(t){this.rating=5-t.model.index,this._selected()},_selected:function(){this.fire("selected",{selected:!0})},calculateStars:function(t){for(var r=[],e=Math.floor(t),a=5-e,i=0;i<a;i++){var s={icon:"star-border"};r.push(s)}for(var i=0;i<e;i++){var n={icon:"star"};r.push(n)}this._starColl=r},keyBindings:{esc:"_blur","up right pageup end":"_addStar","down left pagedown home":"_removeStar"},_blur:function(t){this.$.starContainer.blur(),t.preventDefault()},_addStar:function(t){this.rating<this.stars&&(this.rating+=1),this._selected(),t.preventDefault()},_removeStar:function(t){0===this.rating&&(this.rating=2),this.rating>1&&(this.rating-=1),this._selected(),t.preventDefault()}});</script>

</dom-module>
</body></html>